<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	template="/resources/scaffold/admin-template.xhtml">

	<f:metadata>
		<f:viewParam name="page" value='#{residentBean.page}' />
		<f:event type="preRenderView" listener='#{residentBean.paginate}' />
	</f:metadata>
	<ui:define name="title">User Management</ui:define>
	<ui:define name="footer" />

	<ui:define name="top-div">
		<div class="page-breadcrumb bg-white mb-5">
			<div class="row align-items-center mb-3">
				<div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
					<h4 class="page-title">User Management</h4>
				</div>
				<div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
					<div class="d-md-flex">
						<ul class="breadcrumb ms-auto">
							<li><h:link outcome="/admin/dashboard" class="fw-normal"
									value="Return to Dashboard" /></li>
						</ul>
						<h:link outcome="admin/resident/create"
							class="btn btn-danger  d-none d-md-block pull-right ms-3 hidden-xs hidden-sm waves-effect waves-light text-white"
							value="Add User" />
					</div>
				</div>
			</div>
		</div>
	</ui:define>
	<ui:define name="main">

		<h:form id="search">
			<div class="row">
				<div class="col-md-12 col-lg-12 col-sm-12">
					<div class="white-box">
						<div class="d-md-flex mb-3">
							<!-- <h:panelGroup rendered="#{empty residents}"> -->
							<h:panelGroup rendered="#{empty residentBean.pageItems }">
								<h3 class="box-title mb-0">No Registered Users</h3>
								<div class="col-md-3 col-sm-4 col-xs-6 ms-auto">
									<!-- li class=" in"> -->
									<!-- <h:form role="search" class="app-search d-none d-md-block me-3"> -->
									<h:form role="search" class="d-none d-md-block me-3">
										<h:link outcome="#" class="btn btn-secondary">
											<i class="fa fa-file"></i>
											<span>Export to Excel</span>
										</h:link>

										<div class="position-relative form-floating py-1 mb-3 mt-3">
											<h:inputText type="text" id="floatingInput"
												pt:placeholder="Search..." required="true"
												class="form-control mt-0" />
											<a href="" class="active"> <i
												class="position-absolute top-50 end-0 tranlate-middle-y pe-2 fa fa-search"></i>
											</a>
											<h:outputLabel for="floatingInput" class="text-muted"
												value="Search User..." />
										</div>
									</h:form>

								</div>
							</h:panelGroup>
							<h:panelGroup rendered="#{not empty residentBean.pageItems }">
								<h3 class="box-title mb-0">Registered Users</h3>
								<div class="col-md-3 col-sm-4 col-xs-6 ms-auto">
									<!-- li class=" in"> -->
									<!-- <h:form role="search" class="app-search d-none d-md-block me-3"> -->
									<h:form role="search" class="d-none d-md-block me-3">
										<h:link outcome="#" class="btn btn-secondary">
											<i class="fa fa-file"></i>
											<span>Export to Excel</span>
										</h:link>

										<div class="position-relative form-floating py-1 mb-3 mt-3">
											<h:inputText type="text" id="floatingInput"
												pt:placeholder="Search..." required="true"
												class="form-control mt-0" />
											<a href="" class="active"> <i
												class="position-absolute top-50 end-0 tranlate-middle-y pe-2 fa fa-search"></i>
											</a>
											<h:outputLabel for="floatingInput" class="text-muted"
												value="Search User..." />
										</div>
									</h:form>

								</div>
							</h:panelGroup>
							<!-- <div class="col-md-3 col-sm-4 col-xs-6 ms-auto">
								li class=" in">
								<h:form role="search" class="app-search d-none d-md-block me-3">
								<h:form role="search" class="d-none d-md-block me-3">
								<h:link outcome="#" class="btn btn-secondary"><i class="fa fa-file"></i> <span>Export to Excel</span></h:link> 
		
								<div class="position-relative form-floating py-1 mb-3 mt-3">
                                    <h:inputText type="text" id="floatingInput" pt:placeholder="Search..." required="true"
                                        class="form-control mt-0" /><a href="" class="active"> <i
                                        class="position-absolute top-50 end-0 tranlate-middle-y pe-2 fa fa-search"></i>
                                    </a>
                                    <h:outputLabel for="floatingInput" class="text-muted"
                            value="Search User..." />
								</div>
								</h:form>

							</div> -->
						</div>

						<div class="table-responsive">
							<h:dataTable var="_resident"
								rendered="#{not empty residentBean.pageItems}"
								value="#{residentBean.pageItems}" id="residents"
								class="table no-wrap">
								<h:column>
									<f:facet name="header">
										<h:outputText value="" />
									</f:facet>
									<h:outputText id="residentId" value="#{_resident.id}" />
								</h:column>
								<h:column>
									<f:facet name="header">
										<h:outputText value="First Name" />
									</f:facet>
									<h:link outcome="/admin/resident/view">
										<f:param name="id" value="#{_resident.id}" />
										<h:outputText id="residentFirstName"
											value="#{_resident.firstName}" />
									</h:link>
								</h:column>
								<h:column>
									<f:facet name="header">
										<h:outputText value="Last Name" />
									</f:facet>
									<h:link outcome="/admin/resident/view">
										<f:param name="id" value="#{_resident.id}" />
										<h:outputText id="residentLastName"
											value="#{_resident.lastName}" />
									</h:link>
								</h:column>
								<h:column>
									<f:facet name="header">
										<h:outputText value="User Name" />
									</f:facet>
									<h:link outcome="/admin/resident/view">
										<f:param name="id" value="#{_resident.id}" />
										<h:outputText id="residentUserName"
											value="#{_resident.userName}" />
									</h:link>
								</h:column>
								<h:column>
									<f:facet name="header">
										<h:outputText value="Email" />
									</f:facet>
									<h:link outcome="/admin/resident/view">
										<f:param name="id" value="#{_resident.id}" />
										<h:outputText id="residentEmail" value="#{_resident.email}" />
									</h:link>
								</h:column>
								<h:column>
									<f:facet name="header">
										<h:outputText value="Phone Number" />
									</f:facet>
									<h:outputText id="residentPhoneNumber"
										value="#{_resident.phoneNumber}" />
								</h:column>
								<h:column>
									<f:facet name="header">
										<h:outputText value="Role" />
									</f:facet>
									<h:outputText id="residentRole" value="#{_resident.role}" />
								</h:column>
								<h:column>
									<f:facet name="header">
										<h:outputText value="Created at" />
									</f:facet>
									<h:outputText id="residentCreatedOn"
										value="#{_resident.createdOn}" />
								</h:column>
								<h:column>
									<f:facet name="header">
										<h:outputText value="Updated at" />
									</f:facet>
									<h:outputText id="residentUpdatedOn"
										value="#{_resident.updatedOn}" />
								</h:column>
							</h:dataTable>
						</div>
						<ui:include src="/resources/scaffold/paginator.xhtml">
							<ui:param name="paginatorBean" value='#{residentBean}' />
						</ui:include>
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>

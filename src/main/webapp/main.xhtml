<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/WEB-INF/templates/layout.xhtml">

    <f:metadata>
        <f:viewParam name="resident" value='#{residentBean.residentId}' />
        <f:event type="preRenderView" listener='#{residentBean.retrieve}' />
    </f:metadata>
    
	<ui:param name="title" value="Self Service EMI Calculator" />
	<ui:define name="left-nav">
		<h:outputScript target="head" name="js/change-page.js" />
		<aside class="left-sidebar" data-sidebarbg="skin6">
			<h:panelGroup layout="block" class="scroll-sidebar">
				<nav class="sidebar-nav">
					<h:form>
						<f:ajax onevent="pageChangeListener" render=":content">
							<ul id="sidebarnav" class="visually-hidden">
								<li class="sidebar-item pt-2"><h:commandLink
										aria-expanded="false"
										class="sidebar-link waves-effect waves-dark sidebar-link"
										action="#{singlePageApp.set('income')}">
										<i class="far fa-clock" aria-hidden="true"></i>
										<h:panelGroup class="hide-menu">
											<h:outputText value="Income Breakdown" />
										</h:panelGroup>
									</h:commandLink></li>
							</ul>
						</f:ajax>
					</h:form>
				</nav>
			</h:panelGroup>
		</aside>
	</ui:define>
	<ui:define name="home">
		<section jsf:id="content" data-page="#{singlePageApp.page}">
			<ui:include src="/WEB-INF/includes/spa/#{singlePageApp.page}.xhtml">
				<ui:param name="residentBean" value='#{residentBean}' />
			</ui:include>
		</section>
	</ui:define>
</ui:composition>

